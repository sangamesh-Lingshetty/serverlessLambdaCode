# Architecture Diagrams - DevInsights AI

Visual representation of system architecture, data flows, and multi-tenancy design.

---

## ğŸ—ï¸ **1. HIGH-LEVEL SYSTEM ARCHITECTURE**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENT LAYER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Browser    â”‚  â”‚  Mobile App  â”‚  â”‚  Postman/API â”‚         â”‚
â”‚  â”‚  (Future)    â”‚  â”‚   (Future)   â”‚  â”‚    Client    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                            â”‚ HTTPS/TLS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AWS API GATEWAY                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  â€¢ HTTP API (REST)                                     â”‚    â”‚
â”‚  â”‚  â€¢ CORS Configuration                                  â”‚    â”‚
â”‚  â”‚  â€¢ Rate Limiting (1000 req/sec)                        â”‚    â”‚
â”‚  â”‚  â€¢ JWT Token Validation                                â”‚    â”‚
â”‚  â”‚  â€¢ Request Routing                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                       â”‚
         â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AUTH HANDLER    â”‚                  â”‚  AI HANDLER      â”‚
â”‚                  â”‚                  â”‚                  â”‚
â”‚  â€¢ Sign Up       â”‚                  â”‚  â€¢ Code Quality  â”‚
â”‚  â€¢ Login         â”‚                  â”‚  â€¢ Burnout Risk  â”‚
â”‚  â€¢ Verify        â”‚                  â”‚  â€¢ Team Perf     â”‚
â”‚  â€¢ Refresh       â”‚                  â”‚  â€¢ Dashboard     â”‚
â”‚                  â”‚                  â”‚  â€¢ Reports       â”‚
â”‚  Lambda Functionsâ”‚                  â”‚  Lambda Functionsâ”‚
â”‚  (Node.js 18.x)  â”‚                  â”‚  (Node.js 18.x)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                     â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â–¼              â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚AWS COGNITO  â”‚  â”‚  DynamoDB   â”‚    â”‚ External APIs    â”‚
â”‚             â”‚  â”‚             â”‚    â”‚                  â”‚
â”‚â€¢ User Pool  â”‚  â”‚â€¢ Multi-     â”‚    â”‚â€¢ GitHub API      â”‚
â”‚â€¢ JWT Tokens â”‚  â”‚  Tenant     â”‚    â”‚â€¢ OpenRouter AI   â”‚
â”‚â€¢ Email      â”‚  â”‚  Storage    â”‚    â”‚  (Mistral)       â”‚
â”‚  Verify     â”‚  â”‚â€¢ 24h Cache  â”‚    â”‚                  â”‚
â”‚             â”‚  â”‚â€¢ TTL Auto-  â”‚    â”‚                  â”‚
â”‚Free: 50K    â”‚  â”‚  Cleanup    â”‚    â”‚Free: 5M tokens   â”‚
â”‚users/month  â”‚  â”‚             â”‚    â”‚per month         â”‚
â”‚             â”‚  â”‚Free: 25GB   â”‚    â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  CloudWatch      â”‚
              â”‚  â€¢ Logs          â”‚
              â”‚  â€¢ Metrics       â”‚
              â”‚  â€¢ Alarms        â”‚
              â”‚  â€¢ Dashboards    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
````

**Cost Summary:**
- API Gateway: FREE (1M calls/month)
- Lambda: FREE (1M requests/month)
- DynamoDB: FREE (25GB)
- Cognito: FREE (50K users)
- OpenRouter: FREE (5M tokens)
- **Total: $0/month** âœ…

---

## ğŸ”„ **2. REQUEST FLOW - CODE QUALITY ANALYSIS**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER   â”‚ "Analyze my GitHub code quality"
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚ GET /ai/code-quality/username
     â”‚ Authorization: Bearer <JWT>
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           1. API GATEWAY                        â”‚
â”‚  â€¢ Receive HTTPS request                        â”‚
â”‚  â€¢ Check rate limits                            â”‚
â”‚  â€¢ Route to Lambda                              â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           2. LAMBDA HANDLER                     â”‚
â”‚  Extract JWT â†’ {                                â”‚
â”‚    userId: "user-123",                          â”‚
â”‚    organizationId: "org-abc",  â† KEY!           â”‚
â”‚    role: "member"                               â”‚
â”‚  }                                              â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           3. AUTHORIZATION CHECK                â”‚
â”‚  â€¢ Does user belong to org?          âœ…        â”‚
â”‚  â€¢ Does username belong to org?      âœ…        â”‚
â”‚  â€¢ Permission to access?              âœ…        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           4. CHECK CACHE (DynamoDB)             â”‚
â”‚  Query: {                                       â”‚
â”‚    PK: "ORG#org-abc",                          â”‚
â”‚    SK: "GITHUB_DATA#username"                  â”‚
â”‚  }                                              â”‚
â”‚                                                 â”‚
â”‚  Cache HIT? â”€â”€â”€YESâ”€â”€â†’ Return cached data (50ms)â”‚
â”‚     â”‚                                           â”‚
â”‚     NO (Cache MISS)                             â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           5. FETCH GITHUB DATA                  â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Parallel API Calls (Fast!)          â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  GET /users/{username}/repos         â”‚       â”‚
â”‚  â”‚    â†’ Returns: 10 repositories        â”‚       â”‚
â”‚  â”‚                                      â”‚       â”‚
â”‚  â”‚  For each repo (parallel):          â”‚       â”‚
â”‚  â”‚    GET /repos/{repo}/commits         â”‚       â”‚
â”‚  â”‚    GET /repos/{repo}/pulls           â”‚       â”‚
â”‚  â”‚    GET /repos/{repo}/issues          â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                 â”‚
â”‚  Aggregated Data:                               â”‚
â”‚  â€¢ Total Commits: 2,456                         â”‚
â”‚  â€¢ Total PRs: 156                               â”‚
â”‚  â€¢ Total Issues: 89                             â”‚
â”‚  â€¢ Languages: JS (60%), Python (30%)            â”‚
â”‚                                                 â”‚
â”‚  Time: ~200ms (parallel execution)              â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           6. AI ANALYSIS (OpenRouter)           â”‚
â”‚                                                 â”‚
â”‚  POST https://openrouter.ai/api/v1/chat        â”‚
â”‚  Model: mistral/mistral-7b-instruct             â”‚
â”‚                                                 â”‚
â”‚  Prompt:                                        â”‚
â”‚  "Analyze this developer's code quality:       â”‚
â”‚   - 2,456 commits                               â”‚
â”‚   - 156 PRs (avg merge: 3.2 days)              â”‚
â”‚   - 89 issues (avg resolve: 4.5 days)          â”‚
â”‚   - Languages: JavaScript (60%)                 â”‚
â”‚                                                 â”‚
â”‚   Provide:                                      â”‚
â”‚   1. Quality score (0-10)                       â”‚
â”‚   2. Detected issues                            â”‚
â”‚   3. Recommendations"                           â”‚
â”‚                                                 â”‚
â”‚  AI Response:                                   â”‚
â”‚  {                                              â”‚
â”‚    overallScore: 7.8,                           â”‚
â”‚    issues: [                                    â”‚
â”‚      "Large commits (>50 files): 12%",          â”‚
â”‚      "Limited type safety"                      â”‚
â”‚    ],                                           â”‚
â”‚    recommendations: [                           â”‚
â”‚      "Break down large commits",                â”‚
â”‚      "Add TypeScript"                           â”‚
â”‚    ]                                            â”‚
â”‚  }                                              â”‚
â”‚                                                 â”‚
â”‚  Time: ~500ms                                   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           7. SAVE TO CACHE (DynamoDB)           â”‚
â”‚  Write: {                                       â”‚
â”‚    PK: "ORG#org-abc",                          â”‚
â”‚    SK: "GITHUB_DATA#username",                 â”‚
â”‚    data: {                                      â”‚
â”‚      codeQuality: { ... },                      â”‚
â”‚      metrics: { ... }                           â”‚
â”‚    },                                           â”‚
â”‚    cachedAt: 1706088000000,                     â”‚
â”‚    ttl: 1706174400000  â† Auto-delete in 24h    â”‚
â”‚  }                                              â”‚
â”‚                                                 â”‚
â”‚  Time: ~20ms                                    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           8. RETURN RESPONSE                    â”‚
â”‚  HTTP 200 OK                                    â”‚
â”‚  {                                              â”‚
â”‚    "success": true,                             â”‚
â”‚    "data": {                                    â”‚
â”‚      "codeQuality": {                           â”‚
â”‚        "overallScore": 7.8,                     â”‚
â”‚        "analysis": "Good quality...",           â”‚
â”‚        "issues": [...],                         â”‚
â”‚        "recommendations": [...]                 â”‚
â”‚      },                                         â”‚
â”‚      "metrics": { ... }                         â”‚
â”‚    },                                           â”‚
â”‚    "cached": false,                             â”‚
â”‚    "generatedAt": "2025-01-24T10:30:00Z"        â”‚
â”‚  }                                              â”‚
â”‚                                                 â”‚
â”‚  Total Time: ~850ms (first request)             â”‚
â”‚  Cached Time: ~50ms (subsequent requests) âš¡     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
````

**Performance Breakdown:**
- API Gateway: 5ms
- Lambda cold start: 50ms (first request only)
- Auth validation: 10ms
- Cache check: 15ms
- GitHub API: 200ms (parallel)
- AI analysis: 500ms
- Cache save: 20ms
- **Total: ~850ms**

**Cached Request:**
- API Gateway: 5ms
- Lambda: 5ms (warm)
- Auth: 10ms
- Cache HIT: 15ms
- **Total: ~50ms** (17x faster!)

---

## ğŸ¢ **3. MULTI-TENANT DATA ISOLATION**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DYNAMODB TABLE: organizations                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        ORGANIZATION BOUNDARIES               â”‚
        â”‚      (Physical Data Separation)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PARTITION 1: TechStartup Inc                                 â•‘
â•‘  PK: "ORG#org-techstartup-123"                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  SK: "ORG#org-techstartup-123"                               â•‘
â•‘  â””â”€ Organization Record                                       â•‘
â•‘     â”œâ”€ name: "TechStartup Inc"                               â•‘
â•‘     â”œâ”€ plan: "pro"                                           â•‘
â•‘     â””â”€ members: 12                                           â•‘
â•‘                                                               â•‘
â•‘  SK: "ADMIN#user-sarah-001"                                  â•‘
â•‘  â””â”€ Admin User (Sarah)                                        â•‘
â•‘     â”œâ”€ email: "sarah@techstartup.com"                        â•‘
â•‘     â”œâ”€ role: "admin"                                         â•‘
â•‘     â””â”€ githubUsername: "sarah-em"                            â•‘
â•‘                                                               â•‘
â•‘  SK: "MEMBER#user-bob-002"                                   â•‘
â•‘  â””â”€ Member User (Bob)                                         â•‘
â•‘     â”œâ”€ email: "bob@techstartup.com"                          â•‘
â•‘     â”œâ”€ role: "member"                                        â•‘
â•‘     â””â”€ githubUsername: "bob-senior"                          â•‘
â•‘                                                               â•‘
â•‘  SK: "MEMBER#user-charlie-003"                               â•‘
â•‘  â””â”€ Member User (Charlie)                                     â•‘
â•‘     â””â”€ githubUsername: "charlie-junior"                      â•‘
â•‘                                                               â•‘
â•‘  SK: "GITHUB_DATA#bob-senior"                                â•‘
â•‘  â””â”€ Bob's Analytics Cache                                     â•‘
â•‘     â”œâ”€ codeQuality: 8.5/10                                   â•‘
â•‘     â”œâ”€ commits: 1,234                                        â•‘
â•‘     â””â”€ cachedAt: 1706088000000                               â•‘
â•‘                                                               â•‘
â•‘  SK: "GITHUB_DATA#charlie-junior"                            â•‘
â•‘  â””â”€ Charlie's Analytics Cache                                 â•‘
â•‘     â””â”€ codeQuality: 6.2/10                                   â•‘
â•‘                                                               â•‘
â•‘  SK: "TEAM_REPORT#2025-01-24"                                â•‘
â•‘  â””â”€ Team Performance Report                                   â•‘
â•‘     â””â”€ generatedBy: "user-sarah-001"                         â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        â–¼ PHYSICAL PARTITION BOUNDARY â–¼
        (Different DynamoDB partition)

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PARTITION 2: CompetitorCorp                                  â•‘
â•‘  PK: "ORG#org-competitor-789"                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  SK: "ORG#org-competitor-789"                                â•‘
â•‘  â””â”€ Organization Record                                       â•‘
â•‘                                                               â•‘
â•‘  SK: "ADMIN#user-eve-999"                                    â•‘
â•‘  â””â”€ Admin User (Eve)                                          â•‘
â•‘                                                               â•‘
â•‘  SK: "MEMBER#user-frank-888"                                 â•‘
â•‘  â””â”€ Member User (Frank)                                       â•‘
â•‘                                                               â•‘
â•‘  SK: "GITHUB_DATA#frank-dev"                                 â•‘
â•‘  â””â”€ Frank's Analytics                                         â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        â–¼ PHYSICAL PARTITION BOUNDARY â–¼

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  PARTITION 3: Google Inc                                      â•‘
â•‘  PK: "ORG#org-google-456"                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  SK: "ORG#org-google-456"                                    â•‘
â•‘  SK: "ADMIN#user-alice-111"                                  â•‘
â•‘  SK: "MEMBER#user-john-222"                                  â•‘
â•‘  ... (100+ engineers)                                         â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
````

**Query Examples:**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QUERY 1: Sarah wants all team members                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Sarah's Token:                                             â”‚
â”‚  â””â”€ organizationId: "org-techstartup-123"                  â”‚
â”‚                                                             â”‚
â”‚  Query:                                                     â”‚
â”‚  {                                                          â”‚
â”‚    PK: "ORG#org-techstartup-123",  â† Automatic scoping!    â”‚
â”‚    SK: begins_with("MEMBER#")                              â”‚
â”‚  }                                                          â”‚
â”‚                                                             â”‚
â”‚  Returns:                                                   â”‚
â”‚  âœ… user-bob-002 (TechStartup member)                      â”‚
â”‚  âœ… user-charlie-003 (TechStartup member)                  â”‚
â”‚  âœ… ... (all TechStartup members)                          â”‚
â”‚                                                             â”‚
â”‚  Does NOT return:                                           â”‚
â”‚  âŒ user-eve-999 (CompetitorCorp - different partition!)   â”‚
â”‚  âŒ user-frank-888 (CompetitorCorp - different partition!) â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  QUERY 2: Eve (competitor) tries to access Bob's data      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Eve's Token:                                               â”‚
â”‚  â””â”€ organizationId: "org-competitor-789"                   â”‚
â”‚                                                             â”‚
â”‚  Eve's Query:                                               â”‚
â”‚  {                                                          â”‚
â”‚    PK: "ORG#org-competitor-789",  â† Her org only!          â”‚
â”‚    SK: "GITHUB_DATA#bob-senior"                            â”‚
â”‚  }                                                          â”‚
â”‚                                                             â”‚
â”‚  Returns: EMPTY âŒ                                          â”‚
â”‚                                                             â”‚
â”‚  Why?                                                       â”‚
â”‚  Bob's data is in PK: "ORG#org-techstartup-123"           â”‚
â”‚  Eve's query looks in PK: "ORG#org-competitor-789"        â”‚
â”‚  â†’ DIFFERENT PARTITIONS!                                    â”‚
â”‚  â†’ IMPOSSIBLE to access cross-org! ğŸ”’                      â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
````

**Security Benefits:**
````
âœ… Physical Separation: Different DynamoDB partitions
âœ… Automatic Scoping: JWT token enforces organization boundary
âœ… Query-Level Isolation: Queries cannot cross partitions
âœ… No Code Changes: Security built into data model
âœ… Performance: Each org scales independently
````

---

## ğŸ” **4. AUTHENTICATION & AUTHORIZATION FLOW**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AUTHENTICATION FLOW                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 1: USER SIGN-UP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER   â”‚ POST /auth/signup
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ { email, password, name, organizationName }
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Lambda Handler    â”‚
â”‚  â€¢ Validate input   â”‚
â”‚  â€¢ Check duplicates â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â–¼                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cognito    â”‚              â”‚  DynamoDB    â”‚
â”‚  Create:    â”‚              â”‚  Create:     â”‚
â”‚  â€¢ User     â”‚              â”‚  â€¢ Org       â”‚
â”‚  â€¢ Password â”‚              â”‚  â€¢ User      â”‚
â”‚    (hashed) â”‚              â”‚  â€¢ Link      â”‚
â”‚  â€¢ Custom:  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚    orgId    â”‚
â”‚    role     â”‚
â”‚  Send:      â”‚
â”‚  â€¢ Email    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 2: EMAIL VERIFICATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“§ User receives email
   â†“
User clicks verification link
   â†“
GET /auth/verify?code=ABC123
   â†“
Cognito marks user as verified âœ…

STEP 3: USER LOGIN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER   â”‚ POST /auth/login
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ { email, password }
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Lambda Handler     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cognito            â”‚
â”‚  Validate password  â”‚
â”‚  â†“                  â”‚
â”‚  Generate JWT Token â”‚
â”‚  â†“                  â”‚
â”‚  Token contains:    â”‚
â”‚  {                  â”‚
â”‚    sub: "user-123", â”‚
â”‚    email: "...",    â”‚
â”‚    organizationId:  â”‚
â”‚      "org-abc",     â”‚â† KEY FOR MULTI-TENANCY!
â”‚    role: "member",  â”‚
â”‚    permissions: []  â”‚
â”‚  }                  â”‚
â”‚  â†“                  â”‚
â”‚  Return to user âœ…  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STEP 4: PROTECTED API REQUEST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER   â”‚ GET /ai/code-quality/username
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ Authorization: Bearer <JWT_TOKEN>
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              API GATEWAY                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  JWT Validation:                               â”‚        â”‚
â”‚  â”‚  1. Check signature (from Cognito)         âœ…  â”‚        â”‚
â”‚  â”‚  2. Check expiration                       âœ…  â”‚        â”‚
â”‚  â”‚  3. Verify issuer                          âœ…  â”‚        â”‚
â”‚  â”‚  4. Extract claims                         âœ…  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Lambda Handler                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Authorization Check:                          â”‚        â”‚
â”‚  â”‚                                                â”‚        â”‚
â”‚  â”‚  From Token:                                   â”‚        â”‚
â”‚  â”‚  â€¢ organizationId: "org-abc"                   â”‚        â”‚
â”‚  â”‚  â€¢ userId: "user-123"                          â”‚        â”‚
â”‚  â”‚  â€¢ role: "member"                              â”‚        â”‚
â”‚  â”‚                                                â”‚        â”‚
â”‚  â”‚  Check 1: Does username belong to org-abc?    â”‚        â”‚
â”‚  â”‚  â””â”€ Query DynamoDB for username                â”‚        â”‚
â”‚  â”‚     Result: YES, found in org-abc          âœ…  â”‚        â”‚
â”‚  â”‚                                                â”‚        â”‚
â”‚  â”‚  Check 2: Does user have permission?          â”‚        â”‚
â”‚  â”‚  â””â”€ Role "member" can read own data       âœ…  â”‚        â”‚
â”‚  â”‚                                                â”‚        â”‚
â”‚  â”‚  Authorization: GRANTED âœ…                     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
   Process request with organizationId filter
   (All queries automatically scoped to org-abc)
````

**Token Lifecycle:**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TIME: 0 hours                                              â”‚
â”‚  User logs in â†’ Token issued                                â”‚
â”‚  Expiration: +1 hour                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TIME: 0-59 minutes                                         â”‚
â”‚  Token valid â†’ All API calls work âœ…                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TIME: 60 minutes (expiration)                              â”‚
â”‚  Token expired â†’ API calls rejected âŒ                      â”‚
â”‚  Error: "Token expired"                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REFRESH TOKEN FLOW                                         â”‚
â”‚  POST /auth/refresh                                         â”‚
â”‚  { refreshToken: "..." }                                    â”‚
â”‚  â†“                                                          â”‚
â”‚  Cognito validates refresh token                            â”‚
â”‚  â†“                                                          â”‚
â”‚  Issues NEW access token (valid +1 hour) âœ…                â”‚
â”‚  â†“                                                          â”‚
â”‚  User continues using API                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
````

---

## ğŸ“Š **5. TEAM PERFORMANCE DASHBOARD FLOW**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ADMIN REQUESTS TEAM DASHBOARD                              â”‚
â”‚  GET /ai/team-performance/org-techstartup-123               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 1: Get All Team Members                               â”‚
â”‚  Query DynamoDB:                                            â”‚
â”‚  PK: "ORG#org-techstartup-123"                             â”‚
â”‚  SK: begins_with("MEMBER#")                                 â”‚
â”‚  â†“                                                          â”‚
â”‚  Returns 10 members:                                        â”‚
â”‚  [bob, charlie, alice, dave, ...]                           â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 2: Get GitHub Data for Each Member (Parallel!)       â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  Bob's     â”‚  â”‚ Charlie's  â”‚  â”‚  Alice's   â”‚  ...      â”‚
â”‚  â”‚  Data      â”‚  â”‚  Data      â”‚  â”‚  Data      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚       â”‚               â”‚               â”‚                     â”‚
â”‚       â–¼               â–¼               â–¼                     â”‚
â”‚  Code: 8.5       Code: 6.2       Code: 7.9                 â”‚
â”‚  Commits: 1234   Commits: 456    Commits: 890              â”‚
â”‚  Burnout: 4.2    Burnout: 5.1    Burnout: 8.1 âš ï¸          â”‚
â”‚                                                             â”‚
â”‚  Time: ~100ms (parallel DynamoDB queries)                   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 3: Aggregate Team Metrics                             â”‚
â”‚                                                             â”‚
â”‚  {                                                          â”‚
â”‚    totalMembers: 10,                                        â”‚
â”‚    averageCodeQuality: 7.4,                                 â”‚
â”‚    totalCommits: 8234,                                      â”‚
â”‚    topPerformer: {                                          â”‚
â”‚      name: "Bob",                                           â”‚
â”‚      score: 8.5                                             â”‚
â”‚    },                                                       â”‚
â”‚    burnoutRisks: [                                          â”‚
â”‚      { name: "Alice", risk: 8.1 } âš ï¸                       â”‚
â”‚    ]                                                        â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 4: Send to AI for Team Analysis                       â”‚
â”‚                                                             â”‚
â”‚  OpenRouter API:                                            â”‚
â”‚  "Analyze this 10-person engineering team:                  â”‚
â”‚   â€¢ Average code quality: 7.4                               â”‚
â”‚   â€¢ 1 developer at high burnout risk                        â”‚
â”‚   â€¢ Top performer: Bob (8.5)                                â”‚
â”‚   â€¢ Needs support: Charlie (6.2)                            â”‚
â”‚                                                             â”‚
â”‚   Provide:                                                  â”‚
â”‚   1. Overall team health                                    â”‚
â”‚   2. Hiring recommendations                                 â”‚
â”‚   3. Action items"                                          â”‚
â”‚                                                             â”‚
â”‚  â†“                                                          â”‚
â”‚  AI Response:                                               â”‚
â”‚  {                                                          â”‚
â”‚    teamHealth: "GOOD with concerns",                        â”‚
â”‚    recommendations: [                                       â”‚
â”‚      "Address Alice's burnout immediately",                 â”‚
â”‚      "Mentor Charlie with senior dev",                      â”‚
â”‚      "Team at 85% capacity - hire 2 engineers"              â”‚
â”‚    ]                                                        â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 5: Cache Team Report                                  â”‚
â”‚  DynamoDB Write:                                            â”‚
â”‚  {                                                          â”‚
â”‚    PK: "ORG#org-techstartup-123",                          â”‚
â”‚    SK: "TEAM_REPORT#2025-01-24",                           â”‚
â”‚    data: { ... full report ... },                           â”‚
â”‚    generatedBy: "user-sarah-001",                           â”‚
â”‚    ttl: 1706174400000  â† Expires in 24h                    â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STEP 6: Return Dashboard to Admin                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Team Performance Dashboard                           â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚  Team Health: 7.2/10 (GOOD)                          â”‚ â”‚
â”‚  â”‚  Team Size: 10 engineers                             â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  ğŸ† Top Performer: Bob (8.5)                         â”‚ â”‚
â”‚  â”‚  âš ï¸  Needs Support: Charlie (6.2)                    â”‚ â”‚
â”‚  â”‚  ğŸš¨ Burnout Risk: Alice (8.1)                        â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚  ğŸ’¡ Recommendations:                                 â”‚ â”‚
â”‚  â”‚  â€¢ Address burnout urgently                          â”‚ â”‚
â”‚  â”‚  â€¢ Hire 2 backend engineers                          â”‚ â”‚
â”‚  â”‚  â€¢ Implement mentoring program                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
````

---

## ğŸš€ **6. SCALABILITY ARCHITECTURE**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SCALABILITY PATTERNS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

LOW TRAFFIC (100 users, 1K requests/day)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Gatewayâ”‚ â†’ 1K requests/day
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lambda Pool  â”‚ â†’ 1-5 concurrent functions
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DynamoDB    â”‚ â†’ 10MB data, instant queries
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cost: $0 (Free Tier) âœ…

MEDIUM TRAFFIC (1K users, 100K requests/day)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Gatewayâ”‚ â†’ 100K requests/day (still free!)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lambda Pool (Auto-Scaling)                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”             â”‚
â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚  ...        â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜             â”‚
â”‚ 50-100 concurrent functions                      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DynamoDB    â”‚ â†’ 1GB data, on-demand scaling
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cost: ~$5/month (mostly OpenRouter) âœ…

HIGH TRAFFIC (10K users, 1M requests/day)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Gatewayâ”‚ â†’ 1M requests/day
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lambda Pool (Auto-Scaling)                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”                     â”‚
â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚  ...                â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜                     â”‚
â”‚ ... 1000+ concurrent functions                   â”‚
â”‚ (AWS auto-creates as needed!)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DynamoDB (Auto-Scaling)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚Partition1â”‚  â”‚Partition2â”‚  ...      â”‚
â”‚  â”‚(Org A)   â”‚  â”‚(Org B)   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  â†’ 25GB data, distributed              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cost: ~$50/month (still cheap!) âœ…

ENTERPRISE TRAFFIC (100K users, 10M requests/day)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Gatewayâ”‚ â†’ 10M requests/day
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lambda Pool (Massive Auto-Scaling)               â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”                            â”‚
â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚ â”‚ Î»  â”‚  ...                       â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜                            â”‚
â”‚ ... 10,000+ concurrent functions                 â”‚
â”‚ Distributed across multiple AZs                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DynamoDB (Multi-Region?)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Region 1 â”‚  â”‚ Region 2 â”‚           â”‚
â”‚  â”‚(US East) â”‚  â”‚(US West) â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  â†’ 250GB data, global distribution     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CloudWatch (Monitoring)               â”‚
â”‚  â€¢ Real-time metrics                   â”‚
â”‚  â€¢ Auto-scaling triggers               â”‚
â”‚  â€¢ Performance dashboards              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Cost: ~$500/month
(But at this scale, you have 1000+ paying customers!)
````

**Key Scalability Features:**
````
âœ… Automatic Scaling:
   â€¢ Lambda: 0 â†’ 10,000+ functions
   â€¢ DynamoDB: On-demand capacity
   â€¢ API Gateway: Unlimited requests

âœ… No Capacity Planning:
   â€¢ AWS handles all scaling
   â€¢ No need to predict traffic
   â€¢ Scales down to zero when idle

âœ… Cost Efficiency:
   â€¢ Pay only for what you use
   â€¢ No idle capacity charges
   â€¢ Free tier covers initial growth

âœ… Geographic Distribution:
   â€¢ Multi-region DynamoDB
   â€¢ CloudFront for global CDN
   â€¢ Low latency worldwide
````

---

## ğŸ’° **7. COST BREAKDOWN VISUAL**
````
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AWS FREE TIER BREAKDOWN                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SERVICE: AWS Lambda
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Free Tier: 1,000,000 requests/month

Your Usage at Different Scales:

  Startup (100 users):
  â”‚â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 10,000 requests/month (1% of free tier)
  Cost: $0

  Growth (1K users):
  â”‚â– â– â– â– â– â– â– â–¡â–¡â–¡â”‚ 100,000 requests/month (10% of free tier)
  Cost: $0

  Scale (10K users):
  â”‚â– â– â– â– â– â– â– â– â– â– â”‚ 1,000,000 requests/month (100% of free tier)
  Cost: $0

  Enterprise (100K users):
  â”‚â– â– â– â– â– â– â– â– â– â– â”‚â– â– â– â– â– â– â– â– â– â– â”‚ 10,000,000 requests/month
  Cost: $2.00/month (overage)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SERVICE: DynamoDB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Free Tier: 25 GB storage + 2.5M read/write requests/month

Your Usage:

  Startup:
  â”‚â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 10 MB (0.04% of free tier)
  Cost: $0

  Growth:
  â”‚â– â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 500 MB (2% of free tier)
  Cost: $0

  Scale:
  â”‚â– â– â– â– â– â–¡â–¡â–¡â–¡â–¡â”‚ 5 GB (20% of free tier)
  Cost: $0

  Enterprise:
  â”‚â– â– â– â– â– â– â– â– â– â– â”‚â– â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 30 GB
  Cost: $1.25/month (5GB overage)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SERVICE: API Gateway
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Free Tier: 1,000,000 requests/month

(Same usage as Lambda)

Cost: $0 - $3.50/month at scale

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SERVICE: Cognito
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Free Tier: 50,000 users/month

Your Usage:

  Startup:
  â”‚â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 100 users (0.2%)
  Cost: $0

  Enterprise:
  â”‚â– â– â– â– â– â– â– â– â– â– â”‚ 50,000 users (100%)
  Cost: $0

  Beyond:
  â”‚â– â– â– â– â– â– â– â– â– â– â”‚â– â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 100,000 users
  Cost: $275/month ($0.0055 per user over 50K)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SERVICE: OpenRouter AI
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Free Tier: 5,000,000 tokens/month

Your Usage:

  Startup:
  â”‚â– â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 100K tokens (2%)
  Cost: $0

  Growth:
  â”‚â– â– â– â– â– â– â– â– â–¡â–¡â”‚ 2M tokens (40%)
  Cost: $0

  Scale:
  â”‚â– â– â– â– â– â– â– â– â– â– â”‚ 5M tokens (100%)
  Cost: $0

  Enterprise:
  â”‚â– â– â– â– â– â– â– â– â– â– â”‚â– â– â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡â”‚ 15M tokens
  Cost: $2.00/month (overage)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

TOTAL MONTHLY COST PROJECTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scale     â”‚ Users   â”‚Requests â”‚ Storage â”‚   Cost   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Startup   â”‚    100  â”‚   10K   â”‚  10 MB  â”‚   $0     â”‚
â”‚ Growth    â”‚   1,000 â”‚  100K   â”‚ 500 MB  â”‚   $0     â”‚
â”‚ Scale     â”‚  10,000 â”‚   1M    â”‚   5 GB  â”‚   $0     â”‚
â”‚ Big       â”‚ 100,000 â”‚  10M    â”‚  30 GB  â”‚ $280/mo  â”‚
â”‚ Enterpriseâ”‚ 1M      â”‚ 100M    â”‚ 250 GB  â”‚ $3,500/moâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

At Enterprise scale:
Revenue: $1M users Ã— $10/month = $10M/month
Cost: $3,500/month
Margin: 99.97% ğŸš€
````

---

## ğŸ› ï¸ **8. TOOLS TO CREATE PROFESSIONAL DIAGRAMS**

### Option 1: Draw.io (FREE, Recommended)
````
1. Visit: https://app.diagrams.net/
2. Create new diagram
3. Use AWS Icons:
   - More Shapes â†’ AWS â†’ AWS 19
   - Drag icons: Lambda, DynamoDB, API Gateway
4. Export as PNG/SVG
5. Add to docs/diagrams/
````

### Option 2: Lucidchart (FREE with limitations)
````
1. Visit: https://www.lucidchart.com/
2. Use AWS architecture templates
3. Professional-looking diagrams
4. Export as PNG
````

### Option 3: Excalidraw (FREE, Hand-drawn style)
````
1. Visit: https://excalidraw.com/
2. Hand-drawn aesthetic
3. Modern look
4. Export as PNG
````

### Option 4: Mermaid (Code-based, FREE)
````markdown
```mermaid
graph TD
    A[User] -->|HTTPS| B[API Gateway]
    B --> C[Lambda]
    C --> D[DynamoDB]
    C --> E[Cognito]
    C --> F[GitHub API]
```
````

(GitHub renders this automatically!)

---

## ğŸ“¸ **DIAGRAM CHECKLIST**

Create these diagrams:
````
âœ… 1. High-Level Architecture (system overview)
âœ… 2. Request Flow (API call lifecycle)
âœ… 3. Multi-Tenant Data Model (DynamoDB structure)
âœ… 4. Authentication Flow (login process)
âœ… 5. Team Dashboard Flow (aggregation)
âœ… 6. Scalability Pattern (growth stages)
âœ… 7. Cost Breakdown (visual budget)
````

**Save in:**
- `docs/diagrams/architecture.png`
- `docs/diagrams/request-flow.png`
- `docs/diagrams/multi-tenant.png`
- etc.

**Reference in README:**
````markdown
## Architecture

![System Architecture](./docs/diagrams/architecture.png)

See [complete diagrams](./docs/ARCHITECTURE_DIAGRAMS.md) for detailed flows.
````

---
